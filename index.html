<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BitForward Dashboard | Proyecto Fénix - Enterprise DeFi Platform</title>
    <link rel="stylesheet" href="css/dashboard-simple.css">
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="canonical" href="index.html" />
    <script>
      // Redirección suave si se abre este archivo desde subdirectorios
      (function(){
        try {
          var path = location.pathname;
          // Si apunta a "index-new.html" o "index-simple.html", redirigir a index.html
          if (/index-(new|simple)\.html$/i.test(path)) {
            location.replace(path.replace(/index-(new|simple)\.html/i, 'index.html'));
          }
        } catch (e) {}
      })();
    </script>
</head>
<body style="display: block;">
    <!-- Dashboard Container -->
    <div id="main-dashboard" class="dashboard-container" style="display: block;">
        <!-- Header -->
        <header>
            <div class="header-content">
                <!-- Logo and Title -->
                <div class="logo-section">
                    <div class="logo-container">
                        <img src="assets/logo.svg" alt="BitForward">
                    </div>
                    <div>
                        <h1 class="brand-title">BitForward</h1>
                        <p class="brand-subtitle">Dashboard Proyecto Fénix</p>
                    </div>
                </div>
                <!-- Navigation -->
                <nav class="hidden-mobile">
                    <a href="index.html">Inicio</a>
                    <a href="lending.html">Lending</a>
                    <a href="enterprise.html">Enterprise</a>
                </nav>
                <!-- Wallet Connection -->
                <div>
                    <button id="wallet-connect" class="wallet-btn">
                        Conectar Wallet
                    </button>
                </div>
            </div>
        </header>
        <!-- Main Dashboard Content -->
        <main>
            <!-- Portfolio Overview -->
            <section class="mb-8">
                <h2 class="section-title">Portafolio Overview</h2>
                <div class="grid grid-1 grid-md-2 grid-lg-4">
                    <!-- Total Balance -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <div class="metric-icon green">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                                </svg>
                            </div>
                            <span class="metric-change positive">+12.5%</span>
                        </div>
                        <h3 class="metric-title">Balance Total</h3>
                        <p class="metric-value">$125,847.32</p>
                        <p class="metric-subtitle">≈ 42.5 ETH</p>
                    </div>
                    <!-- Active Positions -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <div class="metric-icon blue">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                </svg>
                            </div>
                            <span class="metric-change">8 activas</span>
                        </div>
                        <h3 class="metric-title">Posiciones Activas</h3>
                        <p class="metric-value">8</p>
                        <p class="metric-subtitle">Forward Contracts</p>
                    </div>
                    <!-- P&L Today -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <div class="metric-icon yellow">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                </svg>
                            </div>
                            <span class="metric-change positive">+$2,847</span>
                        </div>
                        <h3 class="metric-title">P&L Hoy</h3>
                        <p class="metric-value" style="color: #4ade80;">+$2,847.52</p>
                        <p class="metric-subtitle">+2.31%</p>
                    </div>
                    <!-- Lending Pool -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <div class="metric-icon purple">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"/>
                                </svg>
                            </div>
                            <span class="metric-change" style="color: #c084fc;">APY: 12.5%</span>
                        </div>
                        <h3 class="metric-title">Lending Pool</h3>
                        <p class="metric-value">$45,230.18</p>
                        <p class="metric-subtitle">Depositado</p>
                    </div>
                </div>
            </section>
            <!-- Quick Actions -->
            <section class="mb-8">
                <h2 class="section-title-md">Acciones Rápidas</h2>
                <div class="grid grid-1 grid-md-3">
                    <!-- Create Forward Contract -->
                    <button id="create-forward-contract" class="action-btn">
                        <div class="action-icon green">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                            </svg>
                        </div>
                        <h3 class="action-title">Crear Forward Contract</h3>
                        <p class="action-description">Nuevo contrato a futuro para BTC, ETH o SOL</p>
                    </button>
                    <!-- Deposit to Lending -->
                    <button id="deposit-lending" class="action-btn">
                        <div class="action-icon yellow">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                            </svg>
                        </div>
                        <h3 class="action-title">Depositar en Lending</h3>
                        <p class="action-description">Genera rendimientos del 8-15% APY</p>
                    </button>
                    <!-- Portfolio Analytics -->
                    <button id="advanced-analytics" class="action-btn">
                        <div class="action-icon purple">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                        </div>
                        <h3 class="action-title">Analytics Avanzado</h3>
                        <p class="action-description">Reportes detallados y métricas</p>
                    </button>
                </div>
            </section>
            <!-- Active Positions Table -->
            <section class="mb-8">
                <div class="flex flex-between flex-center mb-6">
                    <h2 class="section-title-md" style="margin-bottom: 0;">Posiciones Activas</h2>
                    <button class="wallet-btn">Ver Todas</button>
                </div>
                <div class="table-container">
                    <div class="table-scroll">
                        <table>
                            <thead>
                                <tr>
                                    <th>Contrato</th>
                                    <th>Tipo</th>
                                    <th>Precio Strike</th>
                                    <th>Vencimiento</th>
                                    <th>P&L</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="flex flex-center gap-2">
                                            <div class="crypto-icon btc">₿</div>
                                            <div>
                                                <div class="font-medium">BTC-FORWARD-001</div>
                                                <div style="font-size: 0.875rem; color: #bfdbfe;">Bitcoin Forward</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Long</td>
                                    <td>$65,000</td>
                                    <td>15 días</td>
                                    <td style="color: #4ade80;">+$2,450</td>
                                    <td>
                                        <span class="status-badge active">Activo</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="flex flex-center gap-2">
                                            <div class="crypto-icon eth">Ξ</div>
                                            <div>
                                                <div class="font-medium">ETH-FORWARD-002</div>
                                                <div style="font-size: 0.875rem; color: #bfdbfe;">Ethereum Forward</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Short</td>
                                    <td>$2,800</td>
                                    <td>8 días</td>
                                    <td style="color: #f87171;">-$185</td>
                                    <td>
                                        <span class="status-badge active">Activo</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="flex flex-center gap-2">
                                            <div class="crypto-icon sol">◎</div>
                                            <div>
                                                <div class="font-medium">SOL-FORWARD-003</div>
                                                <div style="font-size: 0.875rem; color: #bfdbfe;">Solana Forward</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Long</td>
                                    <td>$145</td>
                                    <td>22 días</td>
                                    <td style="color: #4ade80;">+$582</td>
                                    <td>
                                        <span class="status-badge active">Activo</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            <!-- Market Overview -->
            <section class="mb-8">
                <h2 class="section-title-md">Vista del Mercado</h2>
                <div class="grid grid-1 grid-lg-2">
                    <!-- Price Chart Placeholder -->
                    <div class="glass-card">
                        <h3 class="action-title mb-4">Gráfico de Precios</h3>
                        <div style="height: 16rem; background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(168, 85, 247, 0.1)); border-radius: 0.5rem; display: flex; align-items: center; justify-content: center;">
                            <div class="text-center">
                                <svg style="width: 4rem; height: 4rem; color: #3b82f6; margin: 0 auto 1rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                </svg>
                                <p style="color: #bfdbfe;">Gráfico TradingView próximamente</p>
                            </div>
                        </div>
                    </div>
                    <!-- Market Stats -->
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <div class="glass-card">
                            <div class="flex flex-between flex-center">
                                <div class="flex flex-center gap-2">
                                    <div class="crypto-icon btc">₿</div>
                                    <div>
                                        <div class="font-medium">Bitcoin</div>
                                        <div style="font-size: 0.875rem; color: #bfdbfe;">BTC</div>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="font-bold">$67,234.56</div>
                                    <div style="color: #4ade80; font-size: 0.875rem;">+2.34%</div>
                                </div>
                            </div>
                        </div>
                        <div class="glass-card">
                            <div class="flex flex-between flex-center">
                                <div class="flex flex-center gap-2">
                                    <div class="crypto-icon eth">Ξ</div>
                                    <div>
                                        <div class="font-medium">Ethereum</div>
                                        <div style="font-size: 0.875rem; color: #bfdbfe;">ETH</div>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="font-bold">$2,845.12</div>
                                    <div style="color: #f87171; font-size: 0.875rem;">-1.23%</div>
                                </div>
                            </div>
                        </div>
                        <div class="glass-card">
                            <div class="flex flex-between flex-center">
                                <div class="flex flex-center gap-2">
                                    <div class="crypto-icon sol">◎</div>
                                    <div>
                                        <div class="font-medium">Solana</div>
                                        <div style="font-size: 0.875rem; color: #bfdbfe;">SOL</div>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="font-bold">$147.89</div>
                                    <div style="color: #4ade80; font-size: 0.875rem;">+5.67%</div>
                                </div>
                            </div>
                        </div>
                        <div class="glass-card">
                            <h4 class="font-medium mb-4">Estadísticas del Pool</h4>
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <div class="flex flex-between">
                                    <span style="color: #bfdbfe; font-size: 0.875rem;">TVL Total</span>
                                    <span style="font-weight: 500; font-size: 0.875rem;">$2.4M</span>
                                </div>
                                <div class="flex flex-between">
                                    <span style="color: #bfdbfe; font-size: 0.875rem;">Contratos Activos</span>
                                    <span style="font-weight: 500; font-size: 0.875rem;">1,247</span>
                                </div>
                                <div class="flex flex-between">
                                    <span style="color: #bfdbfe; font-size: 0.875rem;">Volumen 24h</span>
                                    <span style="font-weight: 500; font-size: 0.875rem;">$425K</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span class="status-text">Sistema Operativo</span>
                </div>
                <div class="footer-info">
                    BitForward Dashboard v3.0 | Proyecto Fénix
                </div>
            </div>
        </footer>
    </div>
    <!-- Loading Animation -->
    <div id="loading-screen" class="loading-spinner" style="display: none;">
        <svg fill="none" viewBox="0 0 24 24">
            <circle style="opacity: 0.25;" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path style="opacity: 0.75;" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
    </div>
    <!-- Scripts -->
    <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js"></script>
    <script src="js/logo-manager.js"></script>
    <script src="js/wallet-manager.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/bitforward-web3.js"></script>
    <script src="js/app.js" type="module"></script>
</body>
</html>
